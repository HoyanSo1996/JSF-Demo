<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <title>Home Page</title>
</h:head>

<h:body>
    <div>
        <h2>隐式导航</h2>
        <!-- JSF页面中的自动导航 -->
        <h:form>
            Go to page1: &nbsp;
            <h:commandButton value="Page1" action="Page1"/>  <!--这里不用写文件的全路径, 因为在同一层文件夹下, 只用写文件名就行, JSF会自动解析扩展名-->
        </h:form>

        <!-- managedBean中的自动导航 -->
        <h:form>
            Go to page2: &nbsp;
            <h:commandButton value="Page2" action="#{navigationController.moveToPage2}"/>
        </h:form>
        <br/>
    </div>
    <hr/>

    <div>
        <h2>条件导航</h2>
        <h:form>
            <h:commandLink value="Page1" action="#{navigationController.showPage(1)}">
<!--                <f:param name="pageId" value="1"/>    &lt;!&ndash;将pageId作为请求参数传递给JSF UI component&ndash;&gt;-->
            </h:commandLink><br/>
            <h:commandLink value="Page2" action="#{navigationController.showPage(2)}">
<!--                <f:param name="pageId" value="2"/>-->
            </h:commandLink><br/>
            <h:commandLink value="HomePage" action="#{navigationController.showPage(3)}">
<!--                <f:param name="pageId" value="3"/>-->
            </h:commandLink>
        </h:form>
        <br/>
    </div>
    <hr/>

    <div>
        <h2>基于faces-config.xml解决导航问题</h2>
        <h:form>
            <h:commandLink value="Page1" action="#{navigationController.processPage1}"/><br/>
            <h:commandLink value="Page2" action="#{navigationController.processPage2}"/>
        </h:form>
        <br/>
    </div>
    <hr/>

    <div>
        <h2>转发与重定向</h2>
        <!--
            默认情况下, JSF在导航到另一个页面时执行服务器页面, 应用程序的URL不会更改.
            要启用页面重定向才会更改, 请在视图名称的末尾追加 faces-redirect=true.
        -->
        <h:form>
            Forward: &nbsp;
            <h:commandButton value="Page1" action="Page1"/><br/>
            Redirect: &nbsp;
            <h:commandButton value="Page2" action="Page2?faces-redirect=true"/>
        </h:form>
        <br/>
    </div>
    <hr/>
</h:body>
</html>
